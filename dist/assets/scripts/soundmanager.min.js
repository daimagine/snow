/** @license
 *
 * SoundManager 2: JavaScript Sound for the Web
 * ----------------------------------------------
 * http://schillmania.com/projects/soundmanager2/
 *
 * Copyright (c) 2007, Scott Schiller. All rights reserved.
 * Code provided under the BSD License:
 * http://schillmania.com/projects/soundmanager2/license.txt
 *
 * V2.97a.20140901+DEV
 */
!function(e,t){function n(n,o){function a(e){return s.preferFlash&&Pe&&!s.ignoreFlash&&s.flash[e]!==t&&s.flash[e]}function i(e){return function(t){var n=this._s;return n&&n._a?e.call(this,t):null}}this.setupOptions={url:n||null,flashVersion:8,debugMode:!0,debugFlash:!1,useConsole:!0,consoleOnly:!0,waitForWindowLoad:!1,bgColor:"#ffffff",useHighPerformance:!1,flashPollingInterval:null,html5PollingInterval:null,flashLoadTimeout:1e3,wmode:null,allowScriptAccess:"always",useFlashBlock:!1,useHTML5Audio:!0,html5Test:/^(probably|maybe)$/i,preferFlash:!1,noSWFCache:!1,idPrefix:"sound"},this.defaultOptions={autoLoad:!1,autoPlay:!1,from:null,loops:1,onid3:null,onload:null,whileloading:null,onplay:null,onpause:null,onresume:null,whileplaying:null,onposition:null,onstop:null,onfailure:null,onfinish:null,multiShot:!0,multiShotEvents:!1,position:null,pan:0,stream:!0,to:null,type:null,usePolicyFile:!1,volume:100},this.flash9Options={isMovieStar:null,usePeakData:!1,useWaveformData:!1,useEQData:!1,onbufferchange:null,ondataerror:null},this.movieStarOptions={bufferTime:3,serverURL:null,onconnect:null,duration:null},this.audioFormats={mp3:{type:['audio/mpeg; codecs="mp3"',"audio/mpeg","audio/mp3","audio/MPA","audio/mpa-robust"],required:!0},mp4:{related:["aac","m4a","m4b"],type:['audio/mp4; codecs="mp4a.40.2"',"audio/aac","audio/x-m4a","audio/MP4A-LATM","audio/mpeg4-generic"],required:!1},ogg:{type:["audio/ogg; codecs=vorbis"],required:!1},opus:{type:["audio/ogg; codecs=opus","audio/opus"],required:!1},wav:{type:['audio/wav; codecs="1"',"audio/wav","audio/wave","audio/x-wav"],required:!1}},this.movieID="sm2-container",this.id=o||"sm2movie",this.debugID="soundmanager-debug",this.debugURLParam=/([#?&])debug=1/i,this.versionNumber="V2.97a.20140901+DEV",this.altURL=this.movieURL=this.version=null,this.enabled=this.swfLoaded=!1,this.oMC=null,this.sounds={},this.soundIDs=[],this.didFlashBlock=this.muted=!1,this.filePattern=null,this.filePatterns={flash8:/\.mp3(\?.*)?$/i,flash9:/\.mp3(\?.*)?$/i},this.features={buffering:!1,peakData:!1,waveformData:!1,eqData:!1,movieStar:!1},this.sandbox={},this.html5={usingFlash:null},this.flash={},this.ignoreFlash=this.html5Only=!1;var r,s=this,l=null,u=null,d,c=navigator.userAgent,f=e.location.href.toString(),p=document,m,h,y,g,v=[],_=!1,O=!1,M=!1,T=!1,w=!1,b,L,P,S,I,x,A,H,E,D,F,N,C,$,k,B,R,V,U,q,j,W,z,Q,X,Y,K=null,J=null,Z,G,ee,te,ne,oe,ae=!1,ie=!1,re,se,le,ue=0,de=null,ce,fe=[],pe,me=null,he,ye,ge,ve,_e,Oe,Me,Te,we=Array.prototype.slice,be=!1,Le,Pe,Se,Ie,xe,Ae,He=0,Ee=c.match(/(ipad|iphone|ipod)/i),De=c.match(/android/i),Fe=c.match(/msie/i),Ne=c.match(/webkit/i),Ce=c.match(/safari/i)&&!c.match(/chrome/i),ke=c.match(/opera/i),Be=c.match(/(mobile|pre\/|xoom)/i)||Ee||De,Re=!f.match(/usehtml5audio/i)&&!f.match(/sm2\-ignorebadua/i)&&Ce&&!c.match(/silk/i)&&c.match(/OS X 10_6_([3-7])/i),Ve=p.hasFocus!==t?p.hasFocus():null,Ue=Ce&&(p.hasFocus===t||!p.hasFocus()),qe=!Ue,je=/(mp3|mp4|mpa|m4a|m4b)/i,We=p.location?p.location.protocol.match(/http/i):null,ze=We?"":"http://",Qe=/^\s*audio\/(?:x-)?(?:mpeg4|aac|flv|mov|mp4||m4v|m4a|m4b|mp4v|3gp|3g2)\s*(?:$|;)/i,Xe="mpeg4 aac flv mov mp4 m4v f4v m4a m4b mp4v 3gp 3g2".split(" "),$e=RegExp("\\.("+Xe.join("|")+")(\\?.*)?$","i");this.mimePattern=/^\s*audio\/(?:x-)?(?:mp(?:eg|3))\s*(?:$|;)/i,this.useAltURL=!We;var Ye;try{Ye=Audio!==t&&(ke&&opera!==t&&10>opera.version()?new Audio(null):new Audio).canPlayType!==t}catch(Ke){Ye=!1}this.hasHTML5=Ye,this.setup=function(e){var n=!s.url;return e!==t&&M&&me&&s.ok(),P(e),e&&(n&&V&&e.url!==t&&s.beginDelayedInit(),!V&&e.url!==t&&"complete"===p.readyState&&setTimeout(B,1)),s},this.supported=this.ok=function(){return me?M&&!T:s.useHTML5Audio&&s.hasHTML5},this.getMovie=function(t){return d(t)||p[t]||e[t]},this.createSound=function(e,n){function o(){return a=te(a),s.sounds[a.id]=new r(a),s.soundIDs.push(a.id),s.sounds[a.id]}var a,i=null;if(!M||!s.ok())return!1;if(n!==t&&(e={id:e,url:n}),a=L(e),a.url=ce(a.url),void 0===a.id&&(a.id=s.setupOptions.idPrefix+He++),oe(a.id,!0))return s.sounds[a.id];if(ye(a))i=o(),i._setup_html5(a);else{if(s.html5Only||s.html5.usingFlash&&a.url&&a.url.match(/data\:/i))return o();g>8&&null===a.isMovieStar&&(a.isMovieStar=!(!a.serverURL&&!(a.type&&a.type.match(Qe)||a.url&&a.url.match($e)))),a=ne(a,void 0),i=o(),8===g?u._createSound(a.id,a.loops||1,a.usePolicyFile):(u._createSound(a.id,a.url,a.usePeakData,a.useWaveformData,a.useEQData,a.isMovieStar,a.isMovieStar?a.bufferTime:!1,a.loops||1,a.serverURL,a.duration||null,a.autoPlay,!0,a.autoLoad,a.usePolicyFile),a.serverURL||(i.connected=!0,a.onconnect&&a.onconnect.apply(i))),!a.serverURL&&(a.autoLoad||a.autoPlay)&&i.load(a)}return!a.serverURL&&a.autoPlay&&i.play(),i},this.destroySound=function(e,t){if(!oe(e))return!1;var n=s.sounds[e],o;for(n.stop(),n._iO={},n.unload(),o=0;o<s.soundIDs.length;o++)if(s.soundIDs[o]===e){s.soundIDs.splice(o,1);break}return t||n.destruct(!0),delete s.sounds[e],!0},this.load=function(e,t){return oe(e)?s.sounds[e].load(t):!1},this.unload=function(e){return oe(e)?s.sounds[e].unload():!1},this.onposition=this.onPosition=function(e,t,n,o){return oe(e)?s.sounds[e].onposition(t,n,o):!1},this.clearOnPosition=function(e,t,n){return oe(e)?s.sounds[e].clearOnPosition(t,n):!1},this.start=this.play=function(e,t){var n=null,o=t&&!(t instanceof Object);if(!M||!s.ok())return!1;if(oe(e,o))o&&(t={url:t});else{if(!o)return!1;o&&(t={url:t}),t&&t.url&&(t.id=e,n=s.createSound(t).play())}return null===n&&(n=s.sounds[e].play(t)),n},this.setPosition=function(e,t){return oe(e)?s.sounds[e].setPosition(t):!1},this.stop=function(e){return oe(e)?s.sounds[e].stop():!1},this.stopAll=function(){for(var e in s.sounds)s.sounds.hasOwnProperty(e)&&s.sounds[e].stop()},this.pause=function(e){return oe(e)?s.sounds[e].pause():!1},this.pauseAll=function(){var e;for(e=s.soundIDs.length-1;e>=0;e--)s.sounds[s.soundIDs[e]].pause()},this.resume=function(e){return oe(e)?s.sounds[e].resume():!1},this.resumeAll=function(){var e;for(e=s.soundIDs.length-1;e>=0;e--)s.sounds[s.soundIDs[e]].resume()},this.togglePause=function(e){return oe(e)?s.sounds[e].togglePause():!1},this.setPan=function(e,t){return oe(e)?s.sounds[e].setPan(t):!1},this.setVolume=function(e,n){var o,a;if(e===t||isNaN(e)||n!==t)return oe(e)?s.sounds[e].setVolume(n):!1;for(o=0,a=s.soundIDs.length;a>o;o++)s.sounds[s.soundIDs[o]].setVolume(e)},this.mute=function(e){var t=0;if(e instanceof String&&(e=null),e)return oe(e)?s.sounds[e].mute():!1;for(t=s.soundIDs.length-1;t>=0;t--)s.sounds[s.soundIDs[t]].mute();return s.muted=!0},this.muteAll=function(){s.mute()},this.unmute=function(e){if(e instanceof String&&(e=null),e)return oe(e)?s.sounds[e].unmute():!1;for(e=s.soundIDs.length-1;e>=0;e--)s.sounds[s.soundIDs[e]].unmute();return s.muted=!1,!0},this.unmuteAll=function(){s.unmute()},this.toggleMute=function(e){return oe(e)?s.sounds[e].toggleMute():!1},this.getMemoryUse=function(){var e=0;return u&&8!==g&&(e=parseInt(u._getMemoryUse(),10)),e},this.disable=function(n){var o;if(n===t&&(n=!1),T)return!1;for(T=!0,o=s.soundIDs.length-1;o>=0;o--)Q(s.sounds[s.soundIDs[o]]);return b(n),Te.remove(e,"load",A),!0},this.canPlayMIME=function(e){var t;return s.hasHTML5&&(t=ge({type:e})),!t&&me&&(t=e&&s.ok()?!!(g>8&&e.match(Qe)||e.match(s.mimePattern)):null),t},this.canPlayURL=function(e){var t;return s.hasHTML5&&(t=ge({url:e})),!t&&me&&(t=e&&s.ok()?!!e.match(s.filePattern):null),t},this.canPlayLink=function(e){return e.type!==t&&e.type&&s.canPlayMIME(e.type)?!0:s.canPlayURL(e.href)},this.getSoundById=function(e,t){return e?s.sounds[e]:null},this.onready=function(t,n){if("function"!=typeof t)throw Z("needFunction","onready");return n||(n=e),I("onready",t,n),x(),!0},this.ontimeout=function(t,n){if("function"!=typeof t)throw Z("needFunction","ontimeout");return n||(n=e),I("ontimeout",t,n),x({type:"ontimeout"}),!0},this._wD=this._writeDebug=function(e,t){return!0},this._debug=function(){},this.reboot=function(t,n){var o,a,i;for(o=s.soundIDs.length-1;o>=0;o--)s.sounds[s.soundIDs[o]].destruct();if(u)try{Fe&&(J=u.innerHTML),K=u.parentNode.removeChild(u)}catch(r){}if(J=K=me=u=null,s.enabled=V=M=ae=ie=_=O=T=be=s.swfLoaded=!1,s.soundIDs=[],s.sounds={},He=0,t)v=[];else for(o in v)if(v.hasOwnProperty(o))for(a=0,i=v[o].length;i>a;a++)v[o][a].fired=!1;return s.html5={usingFlash:null},s.flash={},s.html5Only=!1,s.ignoreFlash=!1,e.setTimeout(function(){k(),n||s.beginDelayedInit()},20),s},this.reset=function(){return s.reboot(!0,!0)},this.getMoviePercent=function(){return u&&"PercentLoaded"in u?u.PercentLoaded():null},this.beginDelayedInit=function(){w=!0,B(),setTimeout(function(){return ie?!1:(q(),$(),ie=!0)},20),H()},this.destruct=function(){s.disable(!0)},r=function(e){var n,o,a=this,i,r,d,c,f,p,m=!1,h=[],y=0,v,_,O=null,M;o=n=null,this.sID=this.id=e.id,this.url=e.url,this._iO=this.instanceOptions=this.options=L(e),this.pan=this.options.pan,this.volume=this.options.volume,this.isHTML5=!1,this._a=null,M=this.url?!1:!0,this.id3={},this._debug=function(){},this.load=function(e){var n=null,o;if(e!==t?a._iO=L(e,a.options):(e=a.options,a._iO=e,O&&O!==a.url&&(a._iO.url=a.url,a.url=null)),a._iO.url||(a._iO.url=a.url),a._iO.url=ce(a._iO.url),o=a.instanceOptions=a._iO,!o.url&&!a.url)return a;if(o.url===a.url&&0!==a.readyState&&2!==a.readyState)return 3===a.readyState&&o.onload&&Ae(a,function(){o.onload.apply(a,[!!a.duration])}),a;if(a.loaded=!1,a.readyState=1,a.playState=0,a.id3={},ye(o))n=a._setup_html5(o),n._called_load||(a._html5_canplay=!1,a.url!==o.url&&(a._a.src=o.url,a.setPosition(0)),a._a.autobuffer="auto",a._a.preload="auto",a._a._called_load=!0);else{if(s.html5Only||a._iO.url&&a._iO.url.match(/data\:/i))return a;try{a.isHTML5=!1,a._iO=ne(te(o)),a._iO.autoPlay&&(a._iO.position||a._iO.from)&&(a._iO.autoPlay=!1),o=a._iO,8===g?u._load(a.id,o.url,o.stream,o.autoPlay,o.usePolicyFile):u._load(a.id,o.url,!!o.stream,!!o.autoPlay,o.loops||1,!!o.autoLoad,o.usePolicyFile)}catch(i){j({type:"SMSOUND_LOAD_JS_EXCEPTION",fatal:!0})}}return a.url=o.url,a},this.unload=function(){return 0!==a.readyState&&(a.isHTML5?(c(),a._a&&(a._a.pause(),O=_e(a._a))):8===g?u._unload(a.id,"about:blank"):u._unload(a.id),i()),a},this.destruct=function(e){a.isHTML5?(c(),a._a&&(a._a.pause(),_e(a._a),be||d(),a._a._s=null,a._a=null)):(a._iO.onfailure=null,u._destroySound(a.id)),e||s.destroySound(a.id,!0)},this.start=this.play=function(e,n){var o,i,r,l,d;if(i=!0,i=null,n=n===t?!0:n,e||(e={}),a.url&&(a._iO.url=a.url),a._iO=L(a._iO,a.options),a._iO=L(e,a._iO),a._iO.url=ce(a._iO.url),a.instanceOptions=a._iO,!a.isHTML5&&a._iO.serverURL&&!a.connected)return a.getAutoPlay()||a.setAutoPlay(!0),a;if(ye(a._iO)&&(a._setup_html5(a._iO),f()),1===a.playState&&!a.paused&&(o=a._iO.multiShot,o||(a.isHTML5&&a.setPosition(a._iO.position),i=a)),null!==i)return i;if(e.url&&e.url!==a.url&&(a.readyState||a.isHTML5||8!==g||!M?a.load(a._iO):M=!1),a.loaded||(0===a.readyState?(a.isHTML5||s.html5Only?a.isHTML5?a.load(a._iO):i=a:(a._iO.autoPlay=!0,a.load(a._iO)),a.instanceOptions=a._iO):2===a.readyState&&(i=a)),null!==i)return i;if(!a.isHTML5&&9===g&&0<a.position&&a.position===a.duration&&(e.position=0),a.paused&&0<=a.position&&(!a._iO.serverURL||0<a.position))a.resume();else{if(a._iO=L(e,a._iO),(!a.isHTML5&&null!==a._iO.position&&0<a._iO.position||null!==a._iO.from&&0<a._iO.from||null!==a._iO.to)&&0===a.instanceCount&&0===a.playState&&!a._iO.serverURL){if(o=function(){a._iO=L(e,a._iO),a.play(a._iO)},a.isHTML5&&!a._html5_canplay?(a.load({_oncanplay:o}),i=!1):a.isHTML5||a.loaded||a.readyState&&2===a.readyState||(a.load({onload:o}),i=!1),null!==i)return i;a._iO=_()}(!a.instanceCount||a._iO.multiShotEvents||a.isHTML5&&a._iO.multiShot&&!be||!a.isHTML5&&g>8&&!a.getAutoPlay())&&a.instanceCount++,a._iO.onposition&&0===a.playState&&p(a),a.playState=1,a.paused=!1,a.position=a._iO.position===t||isNaN(a._iO.position)?0:a._iO.position,a.isHTML5||(a._iO=ne(te(a._iO))),a._iO.onplay&&n&&(a._iO.onplay.apply(a),m=!0),a.setVolume(a._iO.volume,!0),a.setPan(a._iO.pan,!0),a.isHTML5?2>a.instanceCount?(f(),i=a._setup_html5(),a.setPosition(a._iO.position),i.play()):(r=new Audio(a._iO.url),l=function(){Te.remove(r,"ended",l),a._onfinish(a),_e(r),r=null},d=function(){Te.remove(r,"canplay",d);try{r.currentTime=a._iO.position/1e3}catch(e){}r.play()},Te.add(r,"ended",l),void 0!==a._iO.volume&&(r.volume=Math.max(0,Math.min(1,a._iO.volume/100))),a.muted&&(r.muted=!0),a._iO.position?Te.add(r,"canplay",d):r.play()):(i=u._start(a.id,a._iO.loops||1,9===g?a.position:a.position/1e3,a._iO.multiShot||!1),9===g&&!i&&a._iO.onplayerror&&a._iO.onplayerror.apply(a))}return a},this.stop=function(e){var t=a._iO;return 1===a.playState&&(a._onbufferchange(0),a._resetOnPosition(0),a.paused=!1,a.isHTML5||(a.playState=0),v(),t.to&&a.clearOnPosition(t.to),a.isHTML5?a._a&&(e=a.position,a.setPosition(0),a.position=e,a._a.pause(),a.playState=0,a._onTimer(),c()):(u._stop(a.id,e),t.serverURL&&a.unload()),a.instanceCount=0,a._iO={},t.onstop&&t.onstop.apply(a)),a},this.setAutoPlay=function(e){a._iO.autoPlay=e,a.isHTML5||(u._setAutoPlay(a.id,e),e&&!a.instanceCount&&1===a.readyState&&a.instanceCount++)},this.getAutoPlay=function(){return a._iO.autoPlay},this.setPosition=function(e){e===t&&(e=0);var n=a.isHTML5?Math.max(e,0):Math.min(a.duration||a._iO.duration,Math.max(e,0));if(a.position=n,e=a.position/1e3,a._resetOnPosition(a.position),a._iO.position=n,a.isHTML5){if(a._a){if(a._html5_canplay){if(a._a.currentTime!==e)try{a._a.currentTime=e,(0===a.playState||a.paused)&&a._a.pause()}catch(o){}}else if(e)return a;a.paused&&a._onTimer(!0)}}else e=9===g?a.position:e,a.readyState&&2!==a.readyState&&u._setPosition(a.id,e,a.paused||!a.playState,a._iO.multiShot);return a},this.pause=function(e){return a.paused||0===a.playState&&1!==a.readyState?a:(a.paused=!0,a.isHTML5?(a._setup_html5().pause(),c()):(e||e===t)&&u._pause(a.id,a._iO.multiShot),a._iO.onpause&&a._iO.onpause.apply(a),a)},this.resume=function(){var e=a._iO;return a.paused?(a.paused=!1,a.playState=1,a.isHTML5?(a._setup_html5().play(),f()):(e.isMovieStar&&!e.serverURL&&a.setPosition(a.position),u._pause(a.id,e.multiShot)),!m&&e.onplay?(e.onplay.apply(a),m=!0):e.onresume&&e.onresume.apply(a),a):a},this.togglePause=function(){return 0===a.playState?(a.play({position:9!==g||a.isHTML5?a.position/1e3:a.position}),a):(a.paused?a.resume():a.pause(),a)},this.setPan=function(e,n){return e===t&&(e=0),n===t&&(n=!1),a.isHTML5||u._setPan(a.id,e),a._iO.pan=e,n||(a.pan=e,a.options.pan=e),a},this.setVolume=function(e,n){return e===t&&(e=100),n===t&&(n=!1),a.isHTML5?a._a&&(s.muted&&!a.muted&&(a.muted=!0,a._a.muted=!0),a._a.volume=Math.max(0,Math.min(1,e/100))):u._setVolume(a.id,s.muted&&!a.muted||a.muted?0:e),a._iO.volume=e,n||(a.volume=e,a.options.volume=e),a},this.mute=function(){return a.muted=!0,a.isHTML5?a._a&&(a._a.muted=!0):u._setVolume(a.id,0),a},this.unmute=function(){a.muted=!1;var e=a._iO.volume!==t;return a.isHTML5?a._a&&(a._a.muted=!1):u._setVolume(a.id,e?a._iO.volume:a.options.volume),a},this.toggleMute=function(){return a.muted?a.unmute():a.mute()},this.onposition=this.onPosition=function(e,n,o){return h.push({position:parseInt(e,10),method:n,scope:o!==t?o:a,fired:!1}),a},this.clearOnPosition=function(e,t){var n;if(e=parseInt(e,10),isNaN(e))return!1;for(n=0;n<h.length;n++)e!==h[n].position||t&&t!==h[n].method||(h[n].fired&&y--,h.splice(n,1))},this._processOnPosition=function(){var e,t;if(e=h.length,!e||!a.playState||y>=e)return!1;for(e-=1;e>=0;e--)t=h[e],!t.fired&&a.position>=t.position&&(t.fired=!0,y++,t.method.apply(t.scope,[t.position]));return!0},this._resetOnPosition=function(e){var t,n;if(t=h.length,!t)return!1;for(t-=1;t>=0;t--)n=h[t],n.fired&&e<=n.position&&(n.fired=!1,y--);return!0},_=function(){var e=a._iO,t=e.from,n=e.to,o,i;return i=function(){a.clearOnPosition(n,i),a.stop()},o=function(){null===n||isNaN(n)||a.onPosition(n,i)},null!==t&&!isNaN(t)&&(e.position=t,e.multiShot=!1,o()),e},p=function(){var e,t=a._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&a.onPosition(parseInt(e,10),t[e])},v=function(){var e,t=a._iO.onposition;if(t)for(e in t)t.hasOwnProperty(e)&&a.clearOnPosition(parseInt(e,10))},f=function(){a.isHTML5&&re(a)},c=function(){a.isHTML5&&se(a)},i=function(e){e||(h=[],y=0),m=!1,a._hasTimer=null,a._a=null,a._html5_canplay=!1,a.bytesLoaded=null,a.bytesTotal=null,a.duration=a._iO&&a._iO.duration?a._iO.duration:null,a.durationEstimate=null,a.buffered=[],a.eqData=[],a.eqData.left=[],a.eqData.right=[],a.failures=0,a.isBuffering=!1,a.instanceOptions={},a.instanceCount=0,a.loaded=!1,a.metadata={},a.readyState=0,a.muted=!1,a.paused=!1,a.peakData={left:0,right:0},a.waveformData={left:[],right:[]},a.playState=0,a.position=null,a.id3={}},i(),this._onTimer=function(e){var t,i=!1,r={};return a._hasTimer||e?(a._a&&(e||(0<a.playState||1===a.readyState)&&!a.paused)&&(t=a._get_html5_duration(),t!==n&&(n=t,a.duration=t,i=!0),a.durationEstimate=a.duration,t=1e3*a._a.currentTime||0,t!==o&&(o=t,i=!0),(i||e)&&a._whileplaying(t,r,r,r,r)),i):void 0},this._get_html5_duration=function(){var e=a._iO;return(e=a._a&&a._a.duration?1e3*a._a.duration:e&&e.duration?e.duration:null)&&!isNaN(e)&&1/0!==e?e:null},this._apply_loop=function(e,t){e.loop=t>1?"loop":""},this._setup_html5=function(e){e=L(a._iO,e);var t=be?l:a._a,n=decodeURI(e.url),o;if(be?n===decodeURI(Le)&&(o=!0):n===decodeURI(O)&&(o=!0),t){if(t._s)if(be)t._s&&t._s.playState&&!o&&t._s.stop();else if(!be&&n===decodeURI(O))return a._apply_loop(t,e.loops),t;o||(O&&i(!1),t.src=e.url,Le=O=a.url=e.url,t._called_load=!1)}else e.autoLoad||e.autoPlay?(a._a=new Audio(e.url),a._a.load()):a._a=ke&&10>opera.version()?new Audio(null):new Audio,t=a._a,t._called_load=!1,be&&(l=t);return a.isHTML5=!0,a._a=t,t._s=a,r(),a._apply_loop(t,e.loops),e.autoLoad||e.autoPlay?a.load():(t.autobuffer=!1,t.preload="auto"),t},r=function(){if(a._a._added_events)return!1;var e;a._a._added_events=!0;for(e in xe)xe.hasOwnProperty(e)&&a._a&&a._a.addEventListener(e,xe[e],!1);return!0},d=function(){var e;a._a._added_events=!1;for(e in xe)xe.hasOwnProperty(e)&&a._a&&a._a.removeEventListener(e,xe[e],!1)},this._onload=function(e){var t=!!e||!a.isHTML5&&8===g&&a.duration;return a.loaded=t,a.readyState=t?3:2,a._onbufferchange(0),a._iO.onload&&Ae(a,function(){a._iO.onload.apply(a,[t])}),!0},this._onbufferchange=function(e){return 0===a.playState||e&&a.isBuffering||!e&&!a.isBuffering?!1:(a.isBuffering=1===e,a._iO.onbufferchange&&a._iO.onbufferchange.apply(a,[e]),!0)},this._onsuspend=function(){return a._iO.onsuspend&&a._iO.onsuspend.apply(a),!0},this._onfailure=function(e,t,n){a.failures++,a._iO.onfailure&&1===a.failures&&a._iO.onfailure(e,t,n)},this._onwarning=function(e,t,n){a._iO.onwarning&&a._iO.onwarning(e,t,n)},this._onfinish=function(){var e=a._iO.onfinish;a._onbufferchange(0),a._resetOnPosition(0),a.instanceCount&&(a.instanceCount--,a.instanceCount||(v(),a.playState=0,a.paused=!1,a.instanceCount=0,a.instanceOptions={},a._iO={},c(),a.isHTML5&&(a.position=0)),(!a.instanceCount||a._iO.multiShotEvents)&&e&&Ae(a,function(){e.apply(a)}))},this._whileloading=function(e,t,n,o){var i=a._iO;a.bytesLoaded=e,a.bytesTotal=t,a.duration=Math.floor(n),a.bufferLength=o,a.durationEstimate=a.isHTML5||i.isMovieStar?a.duration:i.duration?a.duration>i.duration?a.duration:i.duration:parseInt(a.bytesTotal/a.bytesLoaded*a.duration,10),a.isHTML5||(a.buffered=[{start:0,end:a.duration}]),(3!==a.readyState||a.isHTML5)&&i.whileloading&&i.whileloading.apply(a)},this._whileplaying=function(e,n,o,i,r){var s=a._iO;return isNaN(e)||null===e?!1:(a.position=Math.max(0,e),a._processOnPosition(),!a.isHTML5&&g>8&&(s.usePeakData&&n!==t&&n&&(a.peakData={left:n.leftPeak,right:n.rightPeak}),s.useWaveformData&&o!==t&&o&&(a.waveformData={left:o.split(","),right:i.split(",")}),s.useEQData&&r!==t&&r&&r.leftEQ&&(e=r.leftEQ.split(","),a.eqData=e,a.eqData.left=e,r.rightEQ!==t&&r.rightEQ&&(a.eqData.right=r.rightEQ.split(",")))),1===a.playState&&(!a.isHTML5&&8===g&&!a.position&&a.isBuffering&&a._onbufferchange(0),s.whileplaying&&s.whileplaying.apply(a)),!0)},this._oncaptiondata=function(e){a.captiondata=e,a._iO.oncaptiondata&&a._iO.oncaptiondata.apply(a,[e])},this._onmetadata=function(e,t){var n={},o,i;for(o=0,i=e.length;i>o;o++)n[e[o]]=t[o];a.metadata=n,a._iO.onmetadata&&a._iO.onmetadata.call(a,a.metadata)},this._onid3=function(e,t){var n=[],o,i;for(o=0,i=e.length;i>o;o++)n[e[o]]=t[o];a.id3=L(a.id3,n),a._iO.onid3&&a._iO.onid3.apply(a)},this._onconnect=function(e){e=1===e,(a.connected=e)&&(a.failures=0,oe(a.id)&&(a.getAutoPlay()?a.play(t,a.getAutoPlay()):a._iO.autoLoad&&a.load()),a._iO.onconnect&&a._iO.onconnect.apply(a,[e]))},this._ondataerror=function(e){0<a.playState&&a._iO.ondataerror&&a._iO.ondataerror.apply(a)}},U=function(){return p.body||p.getElementsByTagName("div")[0]},d=function(e){return p.getElementById(e)},L=function(e,n){var o=e||{},a,i;a=n===t?s.defaultOptions:n;for(i in a)a.hasOwnProperty(i)&&o[i]===t&&(o[i]="object"!=typeof a[i]||null===a[i]?a[i]:L(o[i],a[i]));return o},Ae=function(t,n){t.isHTML5||8!==g?n():e.setTimeout(n,0)},S={onready:1,ontimeout:1,defaultOptions:1,flash9Options:1,movieStarOptions:1},P=function(e,n){var o,a=!0,i=n!==t,r=s.setupOptions;for(o in e)if(e.hasOwnProperty(o))if("object"!=typeof e[o]||null===e[o]||e[o]instanceof Array||e[o]instanceof RegExp)i&&S[n]!==t?s[n][o]=e[o]:r[o]!==t?(s.setupOptions[o]=e[o],s[o]=e[o]):S[o]===t?a=!1:s[o]instanceof Function?s[o].apply(s,e[o]instanceof Array?e[o]:[e[o]]):s[o]=e[o];else{if(S[o]!==t)return P(e[o],o);a=!1}return a},Te=function(){function t(e){e=we.call(e);var t=e.length;return o?(e[1]="on"+e[1],t>3&&e.pop()):3===t&&e.push(!1),e}function n(e,t){var n=e.shift(),i=[a[t]];o?n[i](e[0],e[1]):n[i].apply(n,e)}var o=e.attachEvent,a={add:o?"attachEvent":"addEventListener",remove:o?"detachEvent":"removeEventListener"};return{add:function(){n(t(arguments),"add")},remove:function(){n(t(arguments),"remove")}}}(),xe={abort:i(function(){}),canplay:i(function(){var e=this._s,n;if(e._html5_canplay)return!0;if(e._html5_canplay=!0,e._onbufferchange(0),n=e._iO.position===t||isNaN(e._iO.position)?null:e._iO.position/1e3,this.currentTime!==n)try{this.currentTime=n}catch(o){}e._iO._oncanplay&&e._iO._oncanplay()}),canplaythrough:i(function(){var e=this._s;e.loaded||(e._onbufferchange(0),e._whileloading(e.bytesLoaded,e.bytesTotal,e._get_html5_duration()),e._onload(!0))}),durationchange:i(function(){var e=this._s,t;t=e._get_html5_duration(),!isNaN(t)&&t!==e.duration&&(e.durationEstimate=e.duration=t)}),ended:i(function(){this._s._onfinish()}),error:i(function(){this._s._onload(!1)}),loadeddata:i(function(){var e=this._s;!e._loaded&&!Ce&&(e.duration=e._get_html5_duration())}),loadedmetadata:i(function(){}),loadstart:i(function(){this._s._onbufferchange(1)}),play:i(function(){this._s._onbufferchange(0)}),playing:i(function(){this._s._onbufferchange(0)}),progress:i(function(e){var t=this._s,n,o,a=0,a=e.target.buffered;n=e.loaded||0;var i=e.total||1;if(t.buffered=[],a&&a.length){for(n=0,o=a.length;o>n;n++)t.buffered.push({start:1e3*a.start(n),end:1e3*a.end(n)});a=1e3*(a.end(0)-a.start(0)),n=Math.min(1,a/(1e3*e.target.duration))}isNaN(n)||(t._whileloading(n,i,t._get_html5_duration()),n&&i&&n===i&&xe.canplaythrough.call(this,e))}),ratechange:i(function(){}),suspend:i(function(e){var t=this._s;xe.progress.call(this,e),t._onsuspend()}),stalled:i(function(){}),timeupdate:i(function(){this._s._onTimer()}),waiting:i(function(){this._s._onbufferchange(1)})},ye=function(e){return e&&(e.type||e.url||e.serverURL)?e.serverURL||e.type&&a(e.type)?!1:e.type?ge({type:e.type}):ge({url:e.url})||s.html5Only||e.url.match(/data\:/i):!1},_e=function(e){var t;return e&&(t=Ce?"about:blank":s.html5.canPlayType("audio/wav")?"data:audio/wave;base64,/UklGRiYAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQIAAAD//w==":"about:blank",e.src=t,void 0!==e._called_unload&&(e._called_load=!1)),be&&(Le=null),t},ge=function(e){if(!s.useHTML5Audio||!s.hasHTML5)return!1;var n=e.url||null;e=e.type||null;var o=s.audioFormats,i;if(e&&s.html5[e]!==t)return s.html5[e]&&!a(e);if(!ve){ve=[];for(i in o)o.hasOwnProperty(i)&&(ve.push(i),o[i].related&&(ve=ve.concat(o[i].related)));ve=RegExp("\\.("+ve.join("|")+")(\\?.*)?$","i")}return i=n?n.toLowerCase().match(ve):null,i&&i.length?i=i[1]:e&&(n=e.indexOf(";"),i=(-1!==n?e.substr(0,n):e).substr(6)),i&&s.html5[i]!==t?n=s.html5[i]&&!a(i):(e="audio/"+i,n=s.html5.canPlayType({type:e}),n=(s.html5[i]=n)&&s.html5[e]&&!a(e)),n},Me=function(){function e(e){var t,o=t=!1;if(!n||"function"!=typeof n.canPlayType)return t;if(e instanceof Array){for(l=0,t=e.length;t>l;l++)(s.html5[e[l]]||n.canPlayType(e[l]).match(s.html5Test))&&(o=!0,s.html5[e[l]]=!0,s.flash[e[l]]=!!e[l].match(je));t=o}else e=n&&"function"==typeof n.canPlayType?n.canPlayType(e):!1,t=!(!e||!e.match(s.html5Test));return t}if(!s.useHTML5Audio||!s.hasHTML5)return me=s.html5.usingFlash=!0,!1;var n=Audio!==t?ke&&10>opera.version()?new Audio(null):new Audio:null,o,a,i={},r,l;r=s.audioFormats;for(o in r)if(r.hasOwnProperty(o)&&(a="audio/"+o,i[o]=e(r[o].type),i[a]=i[o],o.match(je)?(s.flash[o]=!0,s.flash[a]=!0):(s.flash[o]=!1,s.flash[a]=!1),r[o]&&r[o].related))for(l=r[o].related.length-1;l>=0;l--)i["audio/"+r[o].related[l]]=i[o],s.html5[r[o].related[l]]=i[o],s.flash[r[o].related[l]]=i[o];return i.canPlayType=n?e:null,s.html5=L(s.html5,i),s.html5.usingFlash=he(),me=s.html5.usingFlash,!0},C={},Z=function(){},te=function(e){return 8===g&&1<e.loops&&e.stream&&(e.stream=!1),e},ne=function(e,t){return e&&!e.usePolicyFile&&(e.onid3||e.usePeakData||e.useWaveformData||e.useEQData)&&(e.usePolicyFile=!0),e},m=function(){return!1},Q=function(e){for(var t in e)e.hasOwnProperty(t)&&"function"==typeof e[t]&&(e[t]=m)},X=function(e){e===t&&(e=!1),(T||e)&&s.disable(e)},Y=function(e){var t=null;if(e)if(e.match(/\.swf(\?.*)?$/i)){if(t=e.substr(e.toLowerCase().lastIndexOf(".swf?")+4))return e}else e.lastIndexOf("/")!==e.length-1&&(e+="/");return e=(e&&-1!==e.lastIndexOf("/")?e.substr(0,e.lastIndexOf("/")+1):"./")+s.movieURL,s.noSWFCache&&(e+="?ts="+(new Date).getTime()),e},F=function(){g=parseInt(s.flashVersion,10),8!==g&&9!==g&&(s.flashVersion=g=8);var e=s.debugMode||s.debugFlash?"_debug.swf":".swf";s.useHTML5Audio&&!s.html5Only&&s.audioFormats.mp4.required&&9>g&&(s.flashVersion=g=9),s.version=s.versionNumber+(s.html5Only?" (HTML5-only mode)":9===g?" (AS3/Flash 9)":" (AS2/Flash 8)"),g>8?(s.defaultOptions=L(s.defaultOptions,s.flash9Options),s.features.buffering=!0,s.defaultOptions=L(s.defaultOptions,s.movieStarOptions),s.filePatterns.flash9=RegExp("\\.(mp3|"+Xe.join("|")+")(\\?.*)?$","i"),s.features.movieStar=!0):s.features.movieStar=!1,s.filePattern=s.filePatterns[8!==g?"flash9":"flash8"],s.movieURL=(8===g?"soundmanager2.swf":"soundmanager2_flash9.swf").replace(".swf",e),s.features.peakData=s.features.waveformData=s.features.eqData=g>8},W=function(e,t){return u?void u._setPolling(e,t):!1},z=function(){},oe=this.getSoundById,ee=function(){var e=[];return s.debugMode&&e.push("sm2_debug"),s.debugFlash&&e.push("flash_debug"),s.useHighPerformance&&e.push("high_performance"),e.join(" ")},G=function(){Z("fbHandler");var e=s.getMoviePercent(),t={type:"FLASHBLOCK"};return s.html5Only?!1:void(s.ok()?s.oMC&&(s.oMC.className=[ee(),"movieContainer","swf_loaded"+(s.didFlashBlock?" swf_unblocked":"")].join(" ")):(me&&(s.oMC.className=ee()+" movieContainer "+(null===e?"swf_timedout":"swf_error")),s.didFlashBlock=!0,x({type:"ontimeout",ignoreInit:!0,error:t}),j(t)))},I=function(e,n,o){v[e]===t&&(v[e]=[]),v[e].push({method:n,scope:o||null,fired:!1})},x=function(e){if(e||(e={type:s.ok()?"onready":"ontimeout"}),!M&&e&&!e.ignoreInit||"ontimeout"===e.type&&(s.ok()||T&&!e.ignoreInit))return!1;var t={success:e&&e.ignoreInit?s.ok():!T},n=e&&e.type?v[e.type]||[]:[],o=[],a,t=[t],i=me&&!s.ok();for(e.error&&(t[0].error=e.error),e=0,a=n.length;a>e;e++)!0!==n[e].fired&&o.push(n[e]);if(o.length)for(e=0,a=o.length;a>e;e++)o[e].scope?o[e].method.apply(o[e].scope,t):o[e].method.apply(this,t),i||(o[e].fired=!0);return!0},A=function(){e.setTimeout(function(){s.useFlashBlock&&G(),x(),"function"==typeof s.onload&&s.onload.apply(e),s.waitForWindowLoad&&Te.add(e,"load",A)},1)},Se=function(){if(Pe!==t)return Pe;var n=!1,o=navigator,a=o.plugins,i,r=e.ActiveXObject;if(a&&a.length)(o=o.mimeTypes)&&o["application/x-shockwave-flash"]&&o["application/x-shockwave-flash"].enabledPlugin&&o["application/x-shockwave-flash"].enabledPlugin.description&&(n=!0);else if(r!==t&&!c.match(/MSAppHost/i)){try{i=new r("ShockwaveFlash.ShockwaveFlash")}catch(s){i=null}n=!!i}return Pe=n},he=function(){var e,t,n=s.audioFormats;if(Ee&&c.match(/os (1|2|3_0|3_1)\s/i)?(s.hasHTML5=!1,s.html5Only=!0,s.oMC&&(s.oMC.style.display="none")):!s.useHTML5Audio||s.html5&&s.html5.canPlayType||(s.hasHTML5=!1),s.useHTML5Audio&&s.hasHTML5)for(t in pe=!0,n)n.hasOwnProperty(t)&&n[t].required&&(s.html5.canPlayType(n[t].type)?s.preferFlash&&(s.flash[t]||s.flash[n[t].type])&&(e=!0):(pe=!1,e=!0));return s.ignoreFlash&&(e=!1,pe=!0),s.html5Only=s.hasHTML5&&s.useHTML5Audio&&!e,!s.html5Only},ce=function(e){var t,n,o=0;if(e instanceof Array){for(t=0,n=e.length;n>t;t++)if(e[t]instanceof Object){if(s.canPlayMIME(e[t].type)){o=t;break}}else if(s.canPlayURL(e[t])){o=t;break}e[o].url&&(e[o]=e[o].url),e=e[o]}return e},re=function(e){e._hasTimer||(e._hasTimer=!0,!Be&&s.html5PollingInterval&&(null===de&&0===ue&&(de=setInterval(le,s.html5PollingInterval)),ue++))},se=function(e){e._hasTimer&&(e._hasTimer=!1,!Be&&s.html5PollingInterval&&ue--)},le=function(){var e;if(null!==de&&!ue)return clearInterval(de),de=null,!1;for(e=s.soundIDs.length-1;e>=0;e--)s.sounds[s.soundIDs[e]].isHTML5&&s.sounds[s.soundIDs[e]]._hasTimer&&s.sounds[s.soundIDs[e]]._onTimer()},j=function(n){n=n!==t?n:{},"function"==typeof s.onerror&&s.onerror.apply(e,[{type:n.type!==t?n.type:null}]),n.fatal!==t&&n.fatal&&s.disable()},Ie=function(){if(!Re||!Se())return!1;var e=s.audioFormats,t,n;for(n in e)if(e.hasOwnProperty(n)&&("mp3"===n||"mp4"===n)&&(s.html5[n]=!1,e[n]&&e[n].related))for(t=e[n].related.length-1;t>=0;t--)s.html5[e[n].related[t]]=!1},this._setSandboxType=function(e){},this._externalInterfaceOK=function(e){return s.swfLoaded?!1:(s.swfLoaded=!0,Ue=!1,Re&&Ie(),void setTimeout(y,Fe?100:1))},q=function(e,n){function o(e,t){return'<param name="'+e+'" value="'+t+'" />'}if(_&&O)return!1;if(s.html5Only)return F(),s.oMC=d(s.movieID),y(),O=_=!0,!1;var a=n||s.url,i=s.altURL||a,r=U(),l=ee(),u=null,u=p.getElementsByTagName("html")[0],f,m,h,u=u&&u.dir&&u.dir.match(/rtl/i);if(e=e===t?s.id:e,F(),s.url=Y(We?a:i),n=s.url,s.wmode=!s.wmode&&s.useHighPerformance?"transparent":s.wmode,null!==s.wmode&&(c.match(/msie 8/i)||!Fe&&!s.useHighPerformance)&&navigator.platform.match(/win32|win64/i)&&(fe.push(C.spcWmode),s.wmode=null),r={name:e,id:e,src:n,quality:"high",allowScriptAccess:s.allowScriptAccess,bgcolor:s.bgColor,pluginspage:ze+"www.macromedia.com/go/getflashplayer",title:"JS/Flash audio component (SoundManager 2)",type:"application/x-shockwave-flash",wmode:s.wmode,hasPriority:"true"},s.debugFlash&&(r.FlashVars="debug=1"),s.wmode||delete r.wmode,Fe)a=p.createElement("div"),m=['<object id="'+e+'" data="'+n+'" type="'+r.type+'" title="'+r.title+'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="'+ze+'download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0">',o("movie",n),o("AllowScriptAccess",s.allowScriptAccess),o("quality",r.quality),s.wmode?o("wmode",s.wmode):"",o("bgcolor",s.bgColor),o("hasPriority","true"),s.debugFlash?o("FlashVars",r.FlashVars):"","</object>"].join("");else for(f in a=p.createElement("embed"),r)r.hasOwnProperty(f)&&a.setAttribute(f,r[f]);if(z(),l=ee(),r=U())if(s.oMC=d(s.movieID)||p.createElement("div"),s.oMC.id)h=s.oMC.className,s.oMC.className=(h?h+" ":"movieContainer")+(l?" "+l:""),s.oMC.appendChild(a),Fe&&(f=s.oMC.appendChild(p.createElement("div")),f.className="sm2-object-box",f.innerHTML=m),O=!0;else{if(s.oMC.id=s.movieID,s.oMC.className="movieContainer "+l,f=l=null,s.useFlashBlock||(s.useHighPerformance?l={position:"fixed",width:"8px",height:"8px",bottom:"0px",left:"0px",
overflow:"hidden"}:(l={position:"absolute",width:"6px",height:"6px",top:"-9999px",left:"-9999px"},u&&(l.left=Math.abs(parseInt(l.left,10))+"px"))),Ne&&(s.oMC.style.zIndex=1e4),!s.debugFlash)for(h in l)l.hasOwnProperty(h)&&(s.oMC.style[h]=l[h]);try{Fe||s.oMC.appendChild(a),r.appendChild(s.oMC),Fe&&(f=s.oMC.appendChild(p.createElement("div")),f.className="sm2-object-box",f.innerHTML=m),O=!0}catch(g){throw Error(Z("domError")+" \n"+g.toString())}}return _=!0},$=function(){return s.html5Only?(q(),!1):u||!s.url?!1:(u=s.getMovie(s.id),u||(K?(Fe?s.oMC.innerHTML=J:s.oMC.appendChild(K),K=null,_=!0):q(s.id,s.url),u=s.getMovie(s.id)),"function"==typeof s.oninitmovie&&setTimeout(s.oninitmovie,1),!0)},H=function(){setTimeout(E,1e3)},D=function(){e.setTimeout(function(){s.setup({preferFlash:!1}).reboot(),s.didFlashBlock=!0,s.beginDelayedInit()},1)},E=function(){var t,n=!1;return!s.url||ae?!1:(ae=!0,Te.remove(e,"load",H),Pe&&Ue&&!Ve?!1:(M||(t=s.getMoviePercent(),t>0&&100>t&&(n=!0)),void setTimeout(function(){return t=s.getMoviePercent(),n?(ae=!1,e.setTimeout(H,1),!1):void(!M&&qe&&(null===t?s.useFlashBlock||0===s.flashLoadTimeout?s.useFlashBlock&&G():!s.useFlashBlock&&pe?D():x({type:"ontimeout",ignoreInit:!0,error:{type:"INIT_FLASHBLOCK"}}):0!==s.flashLoadTimeout&&(!s.useFlashBlock&&pe?D():X(!0))))},s.flashLoadTimeout)))},N=function(){return Ve||!Ue?(Te.remove(e,"focus",N),!0):(Ve=qe=!0,ae=!1,H(),Te.remove(e,"focus",N),!0)},b=function(t){if(M)return!1;if(s.html5Only)return M=!0,A(),!0;var n=!0,o;return s.useFlashBlock&&s.flashLoadTimeout&&!s.getMoviePercent()||(M=!0),o={type:!Pe&&me?"NO_FLASH":"INIT_TIMEOUT"},(T||t)&&(s.useFlashBlock&&s.oMC&&(s.oMC.className=ee()+" "+(null===s.getMoviePercent()?"swf_timedout":"swf_error")),x({type:"ontimeout",error:o,ignoreInit:!0}),j(o),n=!1),T||(s.waitForWindowLoad&&!w?Te.add(e,"load",A):A()),n},h=function(){var e,n=s.setupOptions;for(e in n)n.hasOwnProperty(e)&&(s[e]===t?s[e]=n[e]:s[e]!==n[e]&&(s.setupOptions[e]=s[e]))},y=function(){if(M)return!1;if(s.html5Only)return M||(Te.remove(e,"load",s.beginDelayedInit),s.enabled=!0,b()),!0;$();try{u._externalInterfaceTest(!1),W(!0,s.flashPollingInterval||(s.useHighPerformance?10:50)),s.debugMode||u._disableDebug(),s.enabled=!0,s.html5Only||Te.add(e,"unload",m)}catch(t){return j({type:"JS_TO_FLASH_EXCEPTION",fatal:!0}),X(!0),b(),!1}return b(),Te.remove(e,"load",s.beginDelayedInit),!0},B=function(){return V?!1:(V=!0,h(),z(),!Pe&&s.hasHTML5&&s.setup({useHTML5Audio:!0,preferFlash:!1}),Me(),!Pe&&me&&(fe.push(C.needFlash),s.setup({flashLoadTimeout:1})),p.removeEventListener&&p.removeEventListener("DOMContentLoaded",B,!1),$(),!0)},Oe=function(){return"complete"===p.readyState&&(B(),p.detachEvent("onreadystatechange",Oe)),!0},R=function(){w=!0,B(),Te.remove(e,"load",R)},k=function(){Be&&(s.setupOptions.useHTML5Audio=!0,s.setupOptions.preferFlash=!1,Ee||De&&!c.match(/android\s2\.3/i))&&(Ee&&(s.ignoreFlash=!0),be=!0)},k(),Se(),Te.add(e,"focus",N),Te.add(e,"load",H),Te.add(e,"load",R),p.addEventListener?p.addEventListener("DOMContentLoaded",B,!1):p.attachEvent?p.attachEvent("onreadystatechange",Oe):j({type:"NO_DOM2_EVENTS",fatal:!0})}if(!e||!e.document)throw Error("SoundManager requires a browser with window and document objects.");var o=null;void 0!==e.SM2_DEFER&&SM2_DEFER||(o=new n),"object"==typeof module&&module&&"object"==typeof module.exports?(e.soundManager=o,module.exports.SoundManager=n,module.exports.soundManager=o):"function"==typeof define&&define.amd?define(function(){return e.SoundManager=n,e.soundManager=o}):(e.SoundManager=n,e.soundManager=o)}(window),function(e){"use strict";var t,n=[],o=".sm2-bar-ui",a;soundManager.setup({html5PollingInterval:50,flashVersion:9}),soundManager.onready(function(){var e,i,r;if(e=a.dom.getAll(o),e&&e.length)for(i=0,r=e.length;r>i;i++)n.push(new t(e[i]))}),a={array:function(){function e(e){var t;return function(n,o){return t=n[e]<o[e]?-1:n[e]>o[e]?1:0}}function t(e){var t,n,o;for(t=e.length-1;t>0;t--)n=Math.floor(Math.random()*(t+1)),o=e[t],e[t]=e[n],e[n]=o;return e}return{compare:e,shuffle:t}}(),css:function(){function e(e,t){return void 0!==e.className?new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className):!1}function t(t,n){return t&&n&&!e(t,n)?void(t.className=(t.className?t.className+" ":"")+n):!1}function n(t,n){return t&&n&&e(t,n)?void(t.className=t.className.replace(new RegExp("( "+n+")|("+n+")","g"),"")):!1}function o(e,o,a){var i={className:e.className};n(i,o),t(i,a),e.className=i.className}function a(o,a){var i,r;return i=e(o,a),r=i?n:t,r(o,a),!i}return{has:e,add:t,remove:n,swap:o,toggle:a}}(),dom:function(){function e(){var e,t,n;return 1===arguments.length?(e=document.documentElement,t=arguments[0]):(e=arguments[0],t=arguments[1]),e&&e.querySelectorAll&&(n=e.querySelectorAll(t)),n}function t(){var t=e.apply(this,arguments);return t&&t.length?t[t.length-1]:t&&0===t.length?null:t}return{get:t,getAll:e}}(),position:function(){function e(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetLeft,e=e.offsetParent;else e.x&&(t+=e.x);return t}function t(e){var t=0;if(e.offsetParent)for(;e.offsetParent;)t+=e.offsetTop,e=e.offsetParent;else e.y&&(t+=e.y);return t}return{getOffX:e,getOffY:t}}(),style:function(){function t(t,n){var o;return t.currentStyle?o=t.currentStyle[n]:e.getComputedStyle&&(o=document.defaultView.getComputedStyle(t,null).getPropertyValue(n)),o}return{get:t}}(),events:function(){var t,n,o;return t=function(t,o,a){var i={detach:function(){return n(t,o,a)}};return e.addEventListener?t.addEventListener(o,a,!1):t.attachEvent("on"+o,a),i},n=void 0!==e.removeEventListener?function(e,t,n){return e.removeEventListener(t,n,!1)}:function(e,t,n){return e.detachEvent("on"+t,n)},o=function(e){return e.preventDefault?e.preventDefault():(e.returnValue=!1,e.cancelBubble=!0),!1},{add:t,preventDefault:o,remove:n}}(),features:function(){function t(e){var t=l.style[e];return void 0!==t?e:null}function n(e){try{l.style[u]=e}catch(t){return!1}return!!l.style[u]}var o,a,i,r,s,l,u;return l=document.createElement("div"),a=e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||null,o=a?function(){return a.apply(e,arguments)}:null,i={transform:{ie:t("-ms-transform"),moz:t("MozTransform"),opera:t("OTransform"),webkit:t("webkitTransform"),w3:t("transform"),prop:null},rotate:{has3D:!1,prop:null},getAnimationFrame:o},i.transform.prop=i.transform.w3||i.transform.moz||i.transform.webkit||i.transform.ie||i.transform.opera,i.transform.prop&&(u=i.transform.prop,s={css_2d:"rotate(0deg)",css_3d:"rotate3d(0,0,0,0deg)"},n(s.css_3d)?(i.rotate.has3D=!0,r="rotate3d"):n(s.css_2d)&&(r="rotate"),i.rotate.prop=r),l=null,i}()},t=function(t){function n(){function t(){return g.playlist}function n(e){var n,o;return null===g.selectedIndex?e:(n=t(),e=void 0!==e?e:g.selectedIndex,e=Math.max(0,Math.min(e,n.length)),o=n[e])}function o(e){var n,o,a,i;if(i=-1,n=t())for(o=0,a=n.length;a>o;o++)if(n[o]===e){i=o;break}return i}function i(){return null!==g.selectedIndex&&g.selectedIndex++,g.playlist.length>1?g.selectedIndex>=g.playlist.length&&(g.loopMode?g.selectedIndex=0:g.selectedIndex--):g.selectedIndex=null,n()}function r(){return g.selectedIndex--,g.selectedIndex<0&&(g.loopMode?g.selectedIndex=g.playlist.length-1:g.selectedIndex++),n()}function s(){var e,t,n;for(e=a.dom.getAll(y.playlist,"."+h.selected),t=0,n=e.length;n>t;t++)a.css.remove(e[t],h.selected)}function l(e){var t,n,i,r,l,u;s(),e&&(a.css.add(e,h.selected),n=e.offsetTop,i=n+e.offsetHeight,r=y.playlistContainer.offsetHeight,l=y.playlist.scrollTop,u=8,i>r+l?y.playlist.scrollTop=i-r+u:l>n&&(y.playlist.scrollTop=e.offsetTop-u)),t=o(e),g.selectedIndex=t}function u(e){var t;e=e||0,t=n(e),t&&d(t.getElementsByTagName("a")[0])}function c(){var e,t;return e=n(),e&&(t=e.getElementsByTagName("a")[0].href),t}function f(){return y.playlist?void(g.playlist=y.playlist.getElementsByTagName("li")):(e.console&&console.warn&&console.warn("refreshDOM(): playlist node not found?"),!1)}function p(){y.playlistTarget=a.dom.get(y.o,".sm2-playlist-target"),y.playlistContainer=a.dom.get(y.o,".sm2-playlist-drawer"),y.playlist=a.dom.get(y.o,".sm2-playlist-bd")}function m(){w=soundManager.defaultOptions.volume,p(),f(),a.css.has(y.o,h.playlistOpen)&&O.menu(!0)}var g;return g={playlist:[],selectedIndex:0,loopMode:!1,timer:null},m(),{data:g,refresh:f,getNext:i,getPrevious:r,getItem:n,getURL:c,playItemByOffset:u,select:l}}function o(e,t){var n=Math.floor(e/1e3),o=Math.floor(n/3600),a=Math.floor(n/60)-Math.floor(60*o),i=Math.floor(n-3600*o-60*a);return t?(o?o+":":"")+(o&&10>a?"0"+a:a)+":"+(10>i?"0"+i:i):{min:a,sec:i}}function i(e){var t=e.getElementsByTagName("a");t.length&&(e=t[0]),y.playlistTarget.innerHTML='<ul class="sm2-playlist-bd"><li>'+e.innerHTML.replace(g.loadFailedCharacter,"")+"</li></ul>",y.playlistTarget.getElementsByTagName("li")[0].scrollWidth>y.playlistTarget.offsetWidth&&(y.playlistTarget.innerHTML='<ul class="sm2-playlist-bd"><li><marquee>'+e.innerHTML+"</marquee></li></ul>")}function r(t){var n=soundManager.createSound({url:t,volume:w,whileplaying:function(){var e=100,t,n;t=Math.min(e,Math.max(0,e*(this.position/this.durationEstimate)))+"%",n=Math.min(100,Math.max(0,100*this.position/this.durationEstimate))+"%",this.duration&&(y.progress.style.left=t,y.progressBar.style.width=n,y.time.innerHTML=o(this.position,!0))},onbufferchange:function(e){e?a.css.add(y.o,"buffering"):a.css.remove(y.o,"buffering")},onplay:function(){a.css.swap(y.o,"paused","playing")},onpause:function(){a.css.swap(y.o,"playing","paused")},onresume:function(){a.css.swap(y.o,"paused","playing")},whileloading:function(){this.isHTML5||(y.duration.innerHTML=o(this.durationEstimate,!0))},onload:function(e){e?y.duration.innerHTML=o(this.duration,!0):this._iO&&this._iO.onerror&&this._iO.onerror()},onerror:function(){var t,n,o;t=v.getItem(),t&&g.loadFailedCharacter&&(y.playlistTarget.innerHTML=y.playlistTarget.innerHTML.replace("<li>","<li>"+g.loadFailedCharacter+" "),v.data.playlist&&v.data.playlist[v.data.selectedIndex]&&(n=v.data.playlist[v.data.selectedIndex].getElementsByTagName("a")[0],o=n.innerHTML,-1===o.indexOf(g.loadFailedCharacter)&&(n.innerHTML=g.loadFailedCharacter+" "+o))),navigator.userAgent.match(/mobile/i)?O.next():(v.data.timer&&e.clearTimeout(v.data.timer),v.data.timer=e.setTimeout(O.next,2e3))},onstop:function(){a.css.remove(y.o,"playing")},onfinish:function(){var e,t;a.css.remove(y.o,"playing"),y.progress.style.left="0%",e=v.data.selectedIndex,t=v.getNext(),t&&v.data.selectedIndex!==e&&(v.select(t),i(t),this.play({url:v.getURL()}))}});return n}function s(e){return e&&(e.which&&2===e.which||void 0===e.which&&1!==e.button)?!0:void 0}function l(t){return t?(M.volume.x=a.position.getOffX(t),M.volume.y=a.position.getOffY(t),M.volume.width=t.offsetWidth,M.volume.height=t.offsetHeight,M.volume.backgroundSize=parseInt(a.style.get(t,"background-size"),10),void(e.navigator.userAgent.match(/msie|trident/i)&&(M.volume.backgroundSize=M.volume.backgroundSize/M.volume.width*100))):!1}function u(e){var t,n;return n=e.target||e.srcElement,s(e)?!0:("a"!==n.nodeName.toLowerCase()&&(t=n.getElementsByTagName("a"),t&&t.length&&(n=n.getElementsByTagName("a")[0])),a.css.has(n,"sm2-volume-control")?(l(n),a.events.add(document,"mousemove",O.adjustVolume),a.events.add(document,"mouseup",O.releaseVolume),O.adjustVolume(e)):void 0)}function d(t){soundManager.canPlayURL(t.href)&&(v.data.timer&&(e.clearTimeout(v.data.timer),v.data.timer=null),_||(_=r(t.href)),_.stop(),v.select(t.parentNode),i(t.parentNode),y.progress.style.left="0px",y.progressBar.style.width="0px",_.play({url:t.href,position:0}))}function c(t){var n,o,i,r,s,l,u;if(n=t||e.event,o=n.target||n.srcElement,o&&o.nodeName){if(r=o.nodeName.toLowerCase(),"a"!==r&&o.parentNode){do o=o.parentNode,r=o.nodeName.toLowerCase();while("a"!==r&&o.parentNode);if(!o)return!1}if("a"===r&&(l=o.href,soundManager.canPlayURL(l)?a.css.has(o,"sm2-exclude")||(d(o),u=!0):(i=o.href.lastIndexOf("#"),-1!==i&&(s=o.href.substr(i+1),s&&O[s]&&(u=!0,O[s](t)))),u))return a.events.preventDefault(n)}}function f(e){var t,n,o,i,r,s;return t=y.progressTrack,n=a.position.getOffX(t),o=t.offsetWidth,i=e.clientX-n,r=i/o,s=_,s&&s.duration&&(s.setPosition(s.duration*r),s._iO&&s._iO.whileplaying&&s._iO.whileplaying.apply(s)),e.preventDefault&&e.preventDefault(),!1}function p(e){return a.events.remove(document,"mousemove",f),a.css.remove(y.o,"grabbing"),a.events.remove(document,"mouseup",p),a.events.preventDefault(e),!1}function m(){t||console.warn("init(): No playerNode element?"),y.o=t,e.navigator.userAgent.match(/msie [678]/i)&&a.css.add(y.o,h.legacy),e.navigator.userAgent.match(/mobile/i)&&a.css.add(y.o,h.noVolume),y.progress=a.dom.get(y.o,".sm2-progress-ball"),y.progressTrack=a.dom.get(y.o,".sm2-progress-track"),y.progressBar=a.dom.get(y.o,".sm2-progress-bar"),y.volume=a.dom.get(y.o,"a.sm2-volume-control"),y.volume&&l(y.volume),y.duration=a.dom.get(y.o,".sm2-inline-duration"),y.time=a.dom.get(y.o,".sm2-inline-time"),v=new n,T=v.getItem(0),v.select(T),i(T),a.events.add(y.o,"mousedown",u),a.events.add(y.o,"click",c),a.events.add(y.progressTrack,"mousedown",function(e){return s(e)?!0:(a.css.add(y.o,"grabbing"),a.events.add(document,"mousemove",f),a.events.add(document,"mouseup",p),f(e))})}var h,y,g,v,_,O,M,T,w,b;return h={disabled:"disabled",selected:"selected",active:"active",legacy:"legacy",noVolume:"no-volume",playlistOpen:"playlist-open"},y={o:null,playlist:null,playlistTarget:null,playlistContainer:null,time:null,player:null,progress:null,progressTrack:null,progressBar:null,duration:null,volume:null},g={loadFailedCharacter:'<span title="Failed to load/play." class="load-error">✖</span>'},M={volume:{x:0,y:0,width:0,height:0,backgroundSize:0}},O={play:function(t){var n,o,a;return void 0===t||isNaN(t)?(a=t,a&&a.target&&(n=a.target||a.srcElement,o=n.href),o&&-1===o.indexOf("#")||(o=y.playlist.getElementsByTagName("a")[0].href),_||(_=r(o)),_.togglePause(),void(_.paused&&v.data.timer&&(e.clearTimeout(v.data.timer),v.data.timer=null))):v.playItemByOffset(t)},pause:function(){_&&_.readyState&&_.pause()},resume:function(){_&&_.readyState&&_.resume()},stop:function(){return O.pause()},next:function(){var t,n;v.data.timer&&(e.clearTimeout(v.data.timer),v.data.timer=null),n=v.data.selectedIndex,t=v.getNext(!0),t&&v.data.selectedIndex!==n&&d(t.getElementsByTagName("a")[0])},prev:function(){var e,t;t=v.data.selectedIndex,e=v.getPrevious(),e&&v.data.selectedIndex!==t&&d(e.getElementsByTagName("a")[0])},shuffle:function(e){var t=e?e.target||e.srcElement:a.dom.get(y.o,".shuffle");t&&!a.css.has(t,h.disabled)&&(a.css.toggle(t.parentNode,h.active),v.data.shuffleMode=!v.data.shuffleMode)},repeat:function(e){var t=e?e.target||e.srcElement:a.dom.get(y.o,".repeat");t&&!a.css.has(t,h.disabled)&&(a.css.toggle(t.parentNode,h.active),v.data.loopMode=!v.data.loopMode)},menu:function(e){var t;t=a.css.has(y.o,h.playlistOpen),"boolean"==typeof e&&e||(t||(y.playlistContainer.style.height="0px"),t=a.css.toggle(y.o,h.playlistOpen)),y.playlistContainer.style.height=(t?y.playlistContainer.scrollHeight:0)+"px"},adjustVolume:function(t){var n,o,i,r,s;return r=0,i=y.volume,void 0===t?!1:void 0===t.clientX?(void 0!==arguments[0]&&e.console&&e.console.warn&&console.warn("Bar UI: call setVolume("+arguments[0]+") instead of adjustVolume("+arguments[0]+")."),O.setVolume.apply(this,arguments)):(n=(100-M.volume.backgroundSize)/2,r=Math.max(0,Math.min(1,(t.clientX-M.volume.x)/M.volume.width)),i.style.clip="rect(0px, "+M.volume.width*r+"px, "+M.volume.height+"px, "+M.volume.width*(n/100)+"px)",o=n/100*M.volume.width,s=100*Math.max(0,Math.min(1,(t.clientX-M.volume.x-o)/(M.volume.width-2*o))),_&&_.setVolume(s),w=s,a.events.preventDefault(t))},releaseVolume:function(){a.events.remove(document,"mousemove",O.adjustVolume),a.events.remove(document,"mouseup",O.releaseVolume)},setVolume:function(e){var t,n,o,a,i,r,s;void 0===e||isNaN(e)||(y.volume&&(i=y.volume,t=M.volume.backgroundSize,n=(100-t)/2,o=M.volume.width*(n/100),r=o,s=r+(M.volume.width-2*o)*(e/100),i.style.clip="rect(0px, "+s+"px, "+M.volume.height+"px, "+r+"px)"),_&&_.setVolume(e),w=e)}},m(),b={actions:O,dom:y,playlistController:v}},e.sm2BarPlayers=n,e.SM2BarPlayer=t}(window);